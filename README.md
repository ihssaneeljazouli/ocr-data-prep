# OCR Data Preparation (Arabic Words)

This repository provides a complete pipeline to **prepare data for an OCR system**, specifically designed for **Arabic word recognition**.  
It includes scripts for **word segmentation**, **annotation via a web app**, **image preprocessing**, and **binary dataset generation**.

---

## ðŸ“‚ Repository Structure

- **`word_segmentation.py`**  
  - Input: an image (e.g., `test.jpg`)  
  - Output: a folder `words_output/` containing segmented word images.  
  - Uses **OpenCV** (`cv2`) for segmentation.  

- **`app.py`**  
  - A **Flask web app** for annotation.  
  - Input: segmented images (from `words_output/`).  
  - Output: `dataset/` folder with:
    - `images/` â†’ word images  
    - `labels/` â†’ `.txt` files with annotations  
  - Features:
    - Creates an **SQLite database** to track annotation state.  
    - Assigns word images to users for labeling.  
    - If not annotated within **3 hours**, images return to `pending` state for others to annotate.  

- **`preprocessor.py`**  
  - Provides preprocessing utilities using **NumPy** and **OpenCV**:
    - Resize  
    - Transpose  
    - Normalize  

- **`images_to_binary.py`**  
  - Converts annotated dataset into a **binary format** for OCR training.  
  - Input: `dataset/images/` and `dataset/labels/` (generated by the Flask app).  
  - Output:  
    - `binary_dataset/my_dataset.bin` (binary data)  
    - `binary_dataset/my_dataset.txt` (labels)  

---

## ðŸš€ Usage example
### 1.Install the dependecies
```bash
pip install -r requirements.txt
```
### 2. Word Segmentation
```bash
python word_segmentation.py
```
### 3. Annotate segmented words
```bash
python app.py
```
Open the browser

Annotate the words shown in the interface

The application creates a dataset/ folder with:

  -images/ (word images)

  -labels/ (corresponding .txt annotations)

### 4. Convert dataset to binary format for OCR
```bash
python images_to_binary.py
```
The final binary_dataset/ is the data format expected by the OCR system.

